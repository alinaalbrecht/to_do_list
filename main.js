(()=>{"use strict";function e(e){return e.value=""}function t(e){console.log("renderToDoList");let t=document.querySelector(".main-content__to-do-list");const n=[];for(let t=0;t<e.length;t++)!0===e[t].overdue?n.push(`<div class="to-do-list__todo-item">\n        <input\n          class="todo-item__checkbox"\n          type="checkbox"\n          id="${e[t].name}"\n          name="checkbox"\n          data-index="${t}"\n          value="${e[t].name}"\n        />\n        <label class="todo-item__name" for="${e[t].name}">${e[t].name}</label>\n        <input class="todo-item__due-date overdue" type="date" value="${e[t].dueDate}" name="date" /></div>`):n.push(`<div class="to-do-list__todo-item">\n        <input\n          class="todo-item__checkbox"\n          type="checkbox"\n          id="${e[t].name}"\n          name="checkbox"\n          data-index="${t}"\n          value="${e[t].name}"\n        />\n        <label class="todo-item__name" for="${e[t].name}">${e[t].name}</label>\n        <input class="todo-item__due-date" type="date" value="${e[t].dueDate}" name="date" /></div>`);t.innerHTML=n.join("")}function n(e){let t=document.querySelector(".completed"),n=document.querySelector(".completed-list__title");n.classList.contains("hidden")&&n.classList.remove("hidden");let o=0;const a=e.map((e=>`\n      \n      <div class="completed-list__todo-item">\n      <input\n        class="todo-item__checkbox"\n        type="checkbox"\n        disabled="disabled"\n        id="${e.name}"\n        name="checkbox"\n        data-index="${o++}"\n        value="${e.name}"\n      />\n      <label class="completed-list__name" for="${e.name}">${e.name}</label>\n    </div>\n          `));t.innerHTML=a.join("")}function o(e){document.querySelector('[data-type="total-to-dos"]').textContent=`(${e.length})`}class a{constructor(e,t){this.name=e,this.finished=!1,this.dueDate=t}}const d=JSON.parse(localStorage.getItem("toDoListArray")||"[]"),l=JSON.parse(localStorage.getItem("completedArray")||"[]");t(d),o(d),n(l);let c=document.querySelector(".add-todo__task-name");function s(n){let l=c.value,s=document.querySelector(".add-todo__due-date");if("Enter"===n.key&&""!==l){console.log("createToDo");let n=new a;n.name=l,n.dueDate=s.value,r=n,d.push(r),i(),t(d),o(d),function(){const e=new Date,n=`${e.getFullYear()}${e.getMonth()}${e.getDate()}`;for(let e=0;e<d.length;e++){const t=new Date(d[e].dueDate);`${t.getFullYear()}${t.getMonth()}${t.getDate()}`<n?d[e].overdue=!0:d[e].overdue=!1}t(d)}(),e(c),e(s)}var r}function i(){localStorage.setItem("toDoListArray",JSON.stringify(d))}c.addEventListener("keypress",s),document.querySelector(".main-content__add-todo").addEventListener("keypress",s),document.querySelector(".main-content__to-do-list").addEventListener("click",(function(e){if("checkbox"!==e.target.type)return;let a=parseInt(e.target.dataset.index),c=d.splice(a,1);c=c[0],console.log(c),l.push(c),t(d),o(d),n(l),i(),localStorage.setItem("completedArray",JSON.stringify(l))}))})();