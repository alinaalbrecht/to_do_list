(()=>{"use strict";function e(e){return e.value=""}function t(e){console.log("renderToDoList");let t=document.querySelector(".main-content__to-do-list");const n=[];for(let t=0;t<e.length;t++)!0===e[t].overdue?n.push(`<div class="to-do-list__todo-item">\n        <input\n          class="todo-item__checkbox"\n          type="checkbox"\n          id="${e[t].name}"\n          name="checkbox"\n          data-index="${t}"\n          value="${e[t].name}"\n        />\n        <label class="todo-item__name" for="${e[t].name}">${e[t].name}</label>\n        <input class="todo-item__due-date overdue" type="date" value="${e[t].dueDate}" name="date" /></div>`):n.push(`<div class="to-do-list__todo-item">\n        <input\n          class="todo-item__checkbox"\n          type="checkbox"\n          id="${e[t].name}"\n          name="checkbox"\n          data-index="${t}"\n          value="${e[t].name}"\n        />\n        <label class="todo-item__name" for="${e[t].name}">${e[t].name}</label>\n        <input class="todo-item__due-date" type="date" value="${e[t].dueDate}" name="date" /></div>`);t.innerHTML=n.join("")}function n(e){document.querySelector('[data-type="total-to-dos"]').textContent=`(${e.length})`}class o{constructor(e,t){this.name=e,this.finished=!1,this.dueDate=t}}let a=JSON.parse(localStorage.getItem("toDoListArray")||"[]");t(a),n(a);const d=[];let l=document.querySelector(".add-todo__task-name");function c(d){let c=l.value,s=document.querySelector(".add-todo__due-date");if("Enter"===d.key&&""!==c){console.log("createToDo");let d=new o;d.name=c,d.dueDate=s.value,i=d,a.push(i),localStorage.setItem("toDoListArray",JSON.stringify(a)),t(a),n(a),function(){const e=new Date,n=`${e.getFullYear()}${e.getMonth()}${e.getDate()}`;for(let e=0;e<a.length;e++){const t=new Date(a[e].dueDate);`${t.getFullYear()}${t.getMonth()}${t.getDate()}`<n?a[e].overdue=!0:a[e].overdue=!1}t(a)}(),e(l),e(s)}var i}l.addEventListener("keypress",c),document.querySelector(".main-content__add-todo").addEventListener("keypress",c),document.querySelector(".main-content__to-do-list").addEventListener("click",(function(e){if("checkbox"!==e.target.type)return;let n=parseInt(e.target.dataset.index),o=a.splice(n,1);d.push(o[0]),t(a),function(e){let t=document.querySelector(".completed"),n=document.querySelector(".completed-list__title");n.classList.contains("hidden")&&n.classList.remove("hidden");let o=0;const a=e.map((e=>`\n      \n      <div class="completed-list__todo-item">\n      <input\n        class="todo-item__checkbox"\n        type="checkbox"\n        disabled="disabled"\n        id="${e.name}"\n        name="checkbox"\n        data-index="${o++}"\n        value="${e.name}"\n      />\n      <label class="completed-list__name" for="${e.name}">${e.name}</label>\n    </div>\n          `));t.innerHTML=a.join("")}(d)}))})();